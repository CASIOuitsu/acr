<!DOCTYPE html>
<html>
<head>
  <link rel="stylesheet" href="https://unpkg.com/onsenui/css/onsenui.css">
  <link rel="stylesheet" href="https://unpkg.com/onsenui/css/onsen-css-components.min.css">
  <script src="https://unpkg.com/onsenui/js/onsenui.min.js"></script>
</head>
<body>
    
    <ons-page>
        <ons-toolbar>
          <div class="center">Home</div>
        </ons-toolbar>
      
        <ons-tabbar swipeable position="auto">
          <ons-tab page="tab1.html" label="Home" icon="ion-home, material:md-home" active>
          </ons-tab>
          <ons-tab page="tab2.html" label="Mensagens" icon="fa-envelope" >
          </ons-tab>
          <ons-tab page="tab3.html" label="Outra" icon="fa-id-card" >
          </ons-tab>
        </ons-tabbar>
      </ons-page>
      
      <template id="tab1.html">
        <ons-page id="Tab1">
          <p style="text-align: center;">
            Contacte-nos:
          </p>

          <div style="text-align: center; margin-top: 30px;">
              <p>
                <ons-input id="name" modifier="underbar" placeholder="Nome" float></ons-input>
              </p>
              <p>
                <ons-input id="email" modifier="underbar" type="email" placeholder="Email" float></ons-input>
              </p>
              <p>
              <textarea id="message" placeholder="message" float cols="30" rows="3"></textarea>
              </p>
              <small>
              Todos os campos são obrigatórios
              </small>
              <p style="margin-top: 30px;">
                <ons-button onclick="contact()">Enviar</ons-button>
              </p>
              
            </ons-input>
        
          </div>
        </ons-page>
      </template>
      
      <template id="tab2.html">
        <ons-page id="Tab2">
          <p style="text-align: center;">
            This is the messages page.
          </p>
          <div id="messages"></div>
        </ons-page>
      </template>

      <template id="tab3.html">
        <ons-page id="Tab3">
          <p style="text-align: center;">
            This is another page.
          </p>

        </ons-page>
      </template>

<script>
  var contact = function() {
    var name = document.getElementById('name').value;
    var email = document.getElementById('email').value;
    var message = document.getElementById('message').value;

    if (name && email && message) {
      ons.notification.toast('Messagem enviada com sucesso!', { timeout: 1500 });
    } else {
      ons.notification.alert('Dados em falta ou incorrectos');
    }
    addToMessages(name, email, message);
    name, email, message = '';
  };

  var addToMessages = function(name, email, message) {
    var msgDiv = document.getElementById('messages');
    msg = document.createElement("p");
    msg.textContent = name + '; ' + email + '; ' + message;
    msgDiv.appendChild(msg);
  };


  document.addEventListener('prechange', function(event) {
    document.querySelector('ons-toolbar .center')
      .innerHTML = event.tabItem.getAttribute('label');
  });
</script>
</body>
</html>